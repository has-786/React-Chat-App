(this["webpackJsonpreact-project"]=this["webpackJsonpreact-project"]||[]).push([[21],{146:function(e,t,a){"use strict";var n=a(119),o=a(120);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(a(0)),i=(0,n(a(121)).default)(r.createElement("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");t.default=i},365:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return F}));var n=a(5),o=a(0),r=a(4),i=a(382),l=a(361),s=a(180),c=a(377),u=a(46),d=a(254),p=a(208),m=a(150),j=a.n(m),b=a(146),h=a.n(b),f=a(358),g=a(356),v=a(113),O=a(115),x=a(179),y=a(9),w=a.n(y),C=a(8),S=a(129),k=(a(128),a(2));function W(){return Object(k.jsxs)(g.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(k.jsx)(u.b,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}S.a.configure();var P=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"0px 0px 3px 3px blue",padding:"30px"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function F(e){var t=P(),a=(localStorage.getItem("token"),Object(o.useState)("")),m=Object(n.a)(a,2),b=m[0],v=m[1],y=Object(o.useState)(""),F=Object(n.a)(y,2),I=F[0],N=F[1],q=Object(o.useState)(""),A=Object(n.a)(q,2),D=A[0],E=A[1],T=Object(o.useState)(""),V=Object(n.a)(T,2),U=V[0],_=V[1],B=Object(o.useState)(""),J=Object(n.a)(B,2),L=J[0],M=J[1],R=Object(o.useState)(""),Y=Object(n.a)(R,2),z=Y[0],H=Y[1],G=Object(o.useState)("none"),K=Object(n.a)(G,2),Q=K[0],X=K[1],Z=Object(r.b)();return Object(k.jsxs)(x.a,{component:"main",maxWidth:"xs",children:[Object(k.jsx)(s.a,{}),Object(k.jsxs)(f.a,{elevation:3,className:t.paper,children:[Object(k.jsx)(O.a,{style:{position:"fixed",top:"70px",display:Q}}),Object(k.jsx)(i.a,{className:t.avatar,children:Object(k.jsx)(j.a,{})}),Object(k.jsx)(g.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(k.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(k.jsx)(c.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Name",name:"name",value:b,onChange:function(e){return v(e.target.value)},autoFocus:!0}),Object(k.jsx)(c.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:I,onChange:function(e){return N(e.target.value)},autoFocus:!0}),Object(k.jsx)(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:t.submit,onClick:function(e){e.preventDefault();var t={email:I};w.a.post(C.a+"/emailverify",t).then((function(e){X("none");var t=e.data;1==t.status?(S.a.info(t.msg,{autoClose:1e3}),H(t.otp)):S.a.error(t.msg,{autoClose:1e3})})).catch((function(e){X("none"),console.log(e)}))},children:"Send OTP"}),Object(k.jsx)(c.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"otp",label:"Enter OTP",name:"otp",value:L,onChange:function(e){return M(e.target.value)},autoFocus:!0}),Object(k.jsx)(c.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:D,onChange:function(e){return E(e.target.value)},autoComplete:"current-password"}),Object(k.jsx)(c.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Confirm password",type:"password",id:"password",value:U,onChange:function(e){return _(e.target.value)},autoComplete:"current-password"}),"Add photo",Object(k.jsx)("label",{for:"file-input",children:Object(k.jsx)(h.a,{style:{color:"blue",width:"80px",cursor:"pointer"}})}),Object(k.jsx)("input",{id:"file-input",name:"file",type:"file",style:{display:"none"},onChange:function(e){document.getElementById("preview").setAttribute("src",window.URL.createObjectURL(e.target.files[0]))}}),Object(k.jsx)("img",{id:"preview",width:"100%",height:"100%"}),Object(k.jsx)(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(t){if(X("block"),t.preventDefault(),L==z)if(D.length<6)S.a.error("Password length must be at least 6",{autoClose:2e3});else if(U==D){var a=document.getElementById("file-input").files[0],n=new FormData;n.append("name",b),n.append("email",I),n.append("pass",D),n.append("path",null===a||void 0===a?void 0:a.name),n.append("file",a),w.a.post(C.a+"/localSignup",n).then((function(t){X("none");var n=t.data,o=null,r=null,i=null;1==n.status&&(S.a.success("Signed up successfully",{autoClose:1e3}),o=n.email,r=n.name,i=n.token,Z({type:"load_user",payload:{name:r,email:o,path:null===a||void 0===a?void 0:a.name}}),localStorage.setItem("token",i),e.history.push("/"))})).catch((function(e){X("none"),console.log(e)}))}else S.a.error("Password and Confirm password don't match",{autoClose:2e3});else S.a.error("Incorrect OTP",{autoClose:1e3})},className:t.submit,children:"Sign Up"}),Object(k.jsxs)(d.a,{container:!0,children:[Object(k.jsx)(d.a,{item:!0,xs:!0,children:Object(k.jsx)(u.b,{to:"/changePassword",variant:"body2",children:"Forgot password?"})}),Object(k.jsx)(d.a,{item:!0,children:Object(k.jsx)(u.b,{to:"/signin",variant:"body2",children:"Already have an account?"})})]})]})]}),Object(k.jsx)(p.a,{mt:8,children:Object(k.jsx)(W,{})})]})}}}]);
//# sourceMappingURL=21.b7cbbbe1.chunk.js.map
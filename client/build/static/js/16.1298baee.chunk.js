(this["webpackJsonpreact-project"]=this["webpackJsonpreact-project"]||[]).push([[16],{156:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));n(0);var a=n(113),i=n(220),r=n(221),c=n(349),o=n(222),s=n(133),d=n.n(s),u=n(2),l=Object(a.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function b(e){var t=l();return Object(u.jsx)("div",{className:t.root,children:Object(u.jsx)(i.a,{position:"static",children:Object(u.jsxs)(r.a,{children:[Object(u.jsx)(o.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",children:Object(u.jsx)(d.a,{onClick:function(){return e.history.goBack()}})}),Object(u.jsx)(c.a,{variant:"h6",className:t.title,children:e.name})]})})})}},168:function(e,t,n){"use strict";var a=n(142);n.n(a)()()},171:function(e,t,n){"use strict";var a=n(119),i=n(120);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),c=(0,a(n(121)).default)(r.createElement("path",{d:"M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm12 4c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3zm-9 8c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1H6v-1z"}),"AccountBox");t.default=c},264:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return W})),n.d(t,"connect",(function(){return y}));var a=n(3),i=n(5),r=(n(142),n(0)),c=n(4),o=n(305),s=n(223),d=n(209),u=n(349),l=n(113),b=n(304),p=n(171),m=n.n(p),f=(n(224),n(8)),h=n.n(f),j=n(9),g=(n(168),n(156)),x=n(126),O=(n(125),n(2));x.a.configure();var v=Object(l.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function k(){return Object(O.jsxs)(u.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(O.jsx)(s.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var y=function(e,t,n,a){e.post("setFriend",{option:a,profile:n}).then((function(e){1==e.data.status&&t({type:"set_friend",payload:{option:a,profile:n}})})).catch((function(e){alert(e)}))};function W(e){var t=v(),n=Object(c.b)(),s=Object(r.useState)("Not connected"),u=Object(i.a)(s,2),l=u[0],p=u[1],f=Object(r.useState)("Connect"),x=Object(i.a)(f,2),W=x[0],C=x[1],R=localStorage.getItem("token"),S=Object(c.c)((function(e){return e.profileReducer})),w=(S.name,S.email);S.email||e.history.push("/");var N=h.a.create({baseURL:j.a,headers:{Authorization:"bearer ".concat(R)}}),z=Object(c.c)((function(e){return e.friendReducer.exist})),F=(Object(c.c)((function(e){return e.userReducer.email})),Object(c.c)((function(e){return e.userReducer.name})),Object(c.c)((function(e){return e.friendReducer.friends}))),M=Object(c.c)((function(e){return e.friendReducer.pendings})),B=Object(c.c)((function(e){return e.friendReducer.sent}));return Object(r.useEffect)((function(){(null===F||void 0===F?void 0:F.find((function(e){return e.email==w})))?(p("Connected"),C("Disconnect")):(null===M||void 0===M?void 0:M.find((function(e){return e.email==w})))?(p("Pending"),C("Accept")):(null===B||void 0===B?void 0:B.find((function(e){return e.email==w})))?(p("Request sent"),C("Cancel request")):(p("Not Connected"),C("Connect")),z||N.get("getFriend").then((function(e){var t=e.data;1==t.status&&(n({type:"load_friend",payload:{pendings:t.pendings,friends:t.friends,sent:t.sent,exist:!0}}),n({type:"load_user",payload:{name:t.name,email:t.email,exist:!0}}))})).catch((function(t){alert(t),e.history.push("/signin")}))}),[B,F,M]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(g.a,Object(a.a)({name:"Profile"},e)),Object(O.jsxs)(b.a,{component:"main",maxWidth:"xs",children:[Object(O.jsx)(o.a,{}),Object(O.jsx)("center",{children:Object(O.jsx)(m.a,{style:{color:"lightgrey",width:"70px",height:"70px"}})}),Object(O.jsx)("center",{children:Object(O.jsx)("p",{children:S.name})}),Object(O.jsx)("center",{children:Object(O.jsx)("p",{children:l})}),Object(O.jsx)("button",{class:"btn btn-sm btn-primary",onClick:y.bind(this,N,n,S,W),children:W}),"Pending"==l?Object(O.jsx)("button",{class:"btn btn-sm btn-danger",onClick:y.bind(this,N,n,S,"Disconnect"),children:"Decline"}):null,Object(O.jsx)(d.a,{mt:8,className:t.footer,children:Object(O.jsx)(k,{})})]})]})}},304:function(e,t,n){"use strict";var a=n(1),i=n(7),r=n(19),c=n(0),o=(n(16),n(35)),s=n(44),d=n(45),u=c.forwardRef((function(e,t){var n=e.classes,r=e.className,s=e.component,u=void 0===s?"div":s,l=e.disableGutters,b=void 0!==l&&l,p=e.fixed,m=void 0!==p&&p,f=e.maxWidth,h=void 0===f?"lg":f,j=Object(i.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return c.createElement(u,Object(a.a)({className:Object(o.a)(n.root,r,m&&n.fixed,b&&n.disableGutters,!1!==h&&n["maxWidth".concat(Object(d.a)(String(h)))]),ref:t},j))}));t.a=Object(s.a)((function(e){return{root:Object(r.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var a=e.breakpoints.values[n];return 0!==a&&(t[e.breakpoints.up(n)]={maxWidth:a}),t}),{}),maxWidthXs:Object(r.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(r.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(r.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(r.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(r.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(u)},305:function(e,t,n){"use strict";var a=n(1),i=n(0),r=(n(16),n(44)),c={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},o=function(e){return Object(a.a)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};t.a=Object(r.a)((function(e){return{"@global":{html:c,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:Object(a.a)({margin:0},o(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(e){var t=e.children,n=void 0===t?null:t;return e.classes,i.createElement(i.Fragment,null,n)}))}}]);
//# sourceMappingURL=16.1298baee.chunk.js.map
{"version":3,"sources":["components/signin.js"],"names":["Copyright","variant","color","align","href","Date","getFullYear","toast","configure","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","boxShadow","padding","avatar","margin","backgroundColor","palette","secondary","main","tabLink","justifyContent","form","width","submit","Signin","props","classes","localStorage","getItem","useState","email","setEmail","password","setPassword","loader","setLoader","dispatch","useDispatch","component","maxWidth","elevation","className","style","position","top","noValidate","required","fullWidth","id","label","name","autoComplete","value","onChange","evt","target","autoFocus","type","onClick","event","preventDefault","data","pass","axios","post","url","then","response","body","token","path","status","success","autoClose","payload","setItem","history","push","error","catch","err","container","item","xs","to","mt"],"mappings":"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","file":"static/js/24.4b9d3b2b.chunk.js","sourcesContent":["import React,{useState} from 'react';\r\nimport {useDispatch} from 'react-redux';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport {Link} from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport axios from 'axios'\r\nimport url from '../url'\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\ntoast.configure()\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright Â© '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    boxShadow:'0px 0px 3px 3px blue',\r\n    padding:'30px'\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  tabLink : {\r\n    display:\"flex\",\r\n    alignItems:\"center\",\r\n    justifyContent:\"center\",\r\n\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Signin(props) {\r\n  const classes = useStyles();\r\n  const token=localStorage.getItem('token')\r\n  const [email,setEmail]=useState('')\r\n  const [password,setPassword]=useState('')\r\n  const [loader,setLoader]=useState('none')\r\n  const dispatch=useDispatch()\r\n\r\n  const login=(event)=>{\r\n    setLoader('block')\r\n\r\n    event.preventDefault();\r\n    const data={email,pass:password};\r\n\r\n    axios.post(url+'/localSignin',data)\r\n    .then((response)=>{\r\n      setLoader('none')\r\n\r\n      const body=response.data\r\n      let email=null,name=null,token=null,path=null;\r\n\r\n      if(body.status==1){\r\n\r\n        email=body.email;name=body.name;token=body.token;path=body.path;\r\n        toast.success('Signed in successfully',{autoClose:1000})\r\n        dispatch({type:'load_user',payload:{name,email,path}})\r\n\r\n        localStorage.setItem('token',token);\r\n\r\n        props.history.push('/');\r\n      }\r\n      else toast.error('Something went wrong',{autoClose:1000})\r\n\r\n\r\n    })\r\n    .catch(err=>{   setLoader('none'); toast.error('Something went wrong'+err,{autoClose:1000});} );\r\n}\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <Paper  elevation={3} className={classes.paper}>\r\n      <CircularProgress style={{position:'fixed',top:'70px',display:loader}}/>\r\n\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            value={email}\r\n            onChange={(evt)=>setEmail(evt.target.value)}\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={(evt)=>setPassword(evt.target.value)}\r\n            autoComplete=\"current-password\"\r\n          />\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={login}\r\n            className={classes.submit}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link to='/changePassword'>\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/signup\" variant=\"body2\">\r\n                Don't have an account?\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </Paper>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n"],"sourceRoot":""}
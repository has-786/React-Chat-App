(this["webpackJsonpreact-project"]=this["webpackJsonpreact-project"]||[]).push([[13],{168:function(e,r,t){"use strict";var n=t(142);t.n(n)()()},169:function(e,r,t){"use strict";t.d(r,"a",(function(){return te}));var n=t(5),a=t(3),o=t(47),c=t(0),i=t.n(c),s=t(4),p=t(203),l=t.n(p),u=t(143),b=t.n(u),d=t(154),f=t.n(d),j=t(221),m=t(355),h=t(374),O=t(113),x=t(139),y=t(344),g=t(345),v=t(346),w=t(348),C=t(347),k=t(220),S=t(222),N=t(201),P=t.n(N),R=t(202),T=t.n(R),B=t(174),K=t.n(B),A=t(171),z=t.n(A),I=t(190),D=t.n(I),W=t(181),E=t.n(W),F=t(132),L=t.n(F),M=t(204),G=t.n(M),H=t(350),U=t(372),V=t(354),_=t(371),J=t(343),Y=t(8),$=t.n(Y),q=t(9),Q=t(126),X=(t(125),t(2));Q.a.configure();var Z=240,ee=Object(O.a)((function(e){return{root:{display:"flex"},searchBar:{position:"relative"},drawer:Object(o.a)({},e.breakpoints.up("sm"),{width:Z,flexShrink:0}),appBar:Object(o.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(Z,"px)"),marginLeft:Z}),menuButton:Object(o.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:Z},content:{flexGrow:1,padding:e.spacing(3)}}})),re=i.a.forwardRef((function(e,r){return Object(X.jsx)(J.a,Object(a.a)({direction:"up",ref:r},e))}));function te(e){var r=e.window,t=void 0!==r?function(){return r().document.body}:void 0,a=ee(),o=(Object(x.a)(),i.a.useState(!1)),p=Object(n.a)(o,2),u=p[0],d=p[1],O=Object(s.b)(),N=function(){e.match.params.room?e.history.push("/"):d(!u)},R=Object(c.useState)([]),B=Object(n.a)(R,2),A=(B[0],B[1],i.a.useState(!1)),I=Object(n.a)(A,2),W=I[0],F=I[1],M=i.a.useState(""),J=Object(n.a)(M,2),Y=(J[0],J[1],i.a.useState([])),Z=Object(n.a)(Y,2),te=Z[0],ne=Z[1],ae=localStorage.getItem("token"),oe=$.a.create({baseURL:q.a,headers:{Authorization:"bearer ".concat(ae)}}),ce=function(){F(!1)};var ie=function(e,r){var t;return function(){var n=arguments,a=this;clearTimeout(t),t=setTimeout((function(){e.apply(a,n)}),r)}}((function(e){e.preventDefault(),oe.post("searchPeople",{searchstring:e.target.value}).then((function(e){var r=e.data;r.status?ne(r.users):Q.a.error("Something went wrong",{autoComplete:1500})}))}),300),se=Object(s.c)((function(e){return e.userReducer.email})),pe=Object(s.c)((function(e){return e.userReducer.name}));pe&&se||$.a.create({baseURL:q.a,headers:{Authorization:"bearer ".concat(ae)}}).get("getUser").then((function(e){var r=e.data;O({type:"load_user",payload:r})})).catch((function(e){return Q.a.error(e)}));var le=[["Friends","/friends",z.a],["Chats","/chats",D.a],["Groups","/groups",L.a],["Enter group","/enterroom",P.a],["Create group","/newroom",b.a],["Sign out","/signin",T.a]],ue=Object(X.jsxs)("div",{children:[Object(X.jsx)("center",{children:Object(X.jsx)(K.a,{style:{borderColor:"#00008B",color:"lightgrey",width:"70px",height:"70px"}})}),Object(X.jsx)("center",{children:Object(X.jsx)("p",{children:pe})}),Object(X.jsx)("div",{className:a.toolbar,style:{marginTop:"-60px"}}),Object(X.jsx)(y.a,{}),Object(X.jsx)(g.a,{children:le.map((function(r,t){return Object(X.jsxs)(v.a,{button:!0,onClick:function(){"Sign out"===r[0]?function(e,r){localStorage.removeItem("token"),r({type:"clear"}),e("/signin")}(e.history.push,O):e.history.push(r[1])},children:[Object(X.jsx)(C.a,{style:{color:"#00008B"},children:Object(c.createElement)(r[2],{})}),Object(X.jsx)(w.a,{primary:r[0]})]},r[0])}))})]});return Object(X.jsxs)("div",{children:[Object(X.jsxs)(H.a,{fullScreen:!0,open:W,onClose:ce,TransitionComponent:re,children:[Object(X.jsx)(k.a,{className:a.searchBar,children:Object(X.jsxs)(j.a,{children:[Object(X.jsx)(S.a,{edge:"start",color:"inherit",onClick:ce,"aria-label":"close",children:Object(X.jsx)(E.a,{})}),Object(X.jsx)(_.a,{style:{backgroundColor:"white",borderRadius:"10px"},variant:"outlined",margin:"normal",fullWidth:!0,name:"search",label:"Search people",type:"text",onChange:function(e){e.preventDefault(),ie(e)},autoComplete:"current-password"})]})}),Object(X.jsx)(g.a,{children:te.map((function(r){return Object(X.jsx)(v.a,{button:!0,children:Object(X.jsx)(w.a,{primary:r.name,secondary:r.email,onClick:function(){return e.history.push("/profile/".concat(r.email,"-").concat(r.name))}})})}))})]}),Object(X.jsx)(k.a,{position:"static",className:a.appBar,children:Object(X.jsxs)(U.a,{style:{display:"flex"},variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon tabs example",children:[Object(X.jsx)(V.a,{icon:Object(X.jsx)(l.a,{style:{color:"white"}}),onClick:function(){return e.history.push("/")},"aria-label":"phone"}),Object(X.jsx)(V.a,{icon:Object(X.jsx)(D.a,{style:{color:"white"}}),onClick:function(){return e.history.push("/chats")},"aria-label":"chat"}),Object(X.jsx)(V.a,{icon:Object(X.jsx)(L.a,{style:{color:"white"}}),onClick:function(){return e.history.push("/groups")},"aria-label":"group"}),Object(X.jsx)(V.a,{icon:Object(X.jsx)(z.a,{style:{color:"white"}}),onClick:function(){return e.history.push("/friends")},"aria-label":"person"}),Object(X.jsx)(V.a,{icon:Object(X.jsx)(G.a,{style:{color:"white"}}),onClick:function(){F(!0)},"aria-label":"search"}),Object(X.jsx)(V.a,{icon:Object(X.jsx)(f.a,{style:{color:"white"}}),"aria-label":"open drawer",edge:"start",onClick:N,className:a.menuButton})]})}),Object(X.jsxs)("nav",{className:a.drawer,"aria-label":"mailbox folders",children:[Object(X.jsx)(h.a,{smUp:!0,implementation:"css",children:Object(X.jsx)(m.a,{container:t,variant:"temporary",anchor:"right",open:u,onClose:N,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0},children:ue})}),Object(X.jsx)(h.a,{xsDown:!0,implementation:"css",children:Object(X.jsx)(m.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0,children:ue})})]})]})}},209:function(e,r,t){"use strict";var n=t(26),a=t(1),o=(t(16),t(24));var c=function(e){var r=function(r){var t=e(r);return r.css?Object(a.a)({},Object(o.a)(t,e(Object(a.a)({theme:r.theme},r.css))),function(e,r){var t={};return Object.keys(e).forEach((function(n){-1===r.indexOf(n)&&(t[n]=e[n])})),t}(r.css,[e.filterProps])):t};return r.propTypes={},r.filterProps=["css"].concat(Object(n.a)(e.filterProps)),r};var i=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];var n=function(e){return r.reduce((function(r,t){var n=t(e);return n?Object(o.a)(r,n):r}),{})};return n.propTypes={},n.filterProps=r.reduce((function(e,r){return e.concat(r.filterProps)}),[]),n},s=t(19),p=t(48);function l(e,r){return r&&"string"===typeof r?r.split(".").reduce((function(e,r){return e&&e[r]?e[r]:null}),e):null}var u=function(e){var r=e.prop,t=e.cssProperty,n=void 0===t?e.prop:t,a=e.themeKey,o=e.transform,c=function(e){if(null==e[r])return null;var t=e[r],c=l(e.theme,a)||{};return Object(p.a)(e,t,(function(e){var r;return"function"===typeof c?r=c(e):Array.isArray(c)?r=c[e]||e:(r=l(c,e)||e,o&&(r=o(r))),!1===n?r:Object(s.a)({},n,r)}))};return c.propTypes={},c.filterProps=[r],c};function b(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var d=i(u({prop:"border",themeKey:"borders",transform:b}),u({prop:"borderTop",themeKey:"borders",transform:b}),u({prop:"borderRight",themeKey:"borders",transform:b}),u({prop:"borderBottom",themeKey:"borders",transform:b}),u({prop:"borderLeft",themeKey:"borders",transform:b}),u({prop:"borderColor",themeKey:"palette"}),u({prop:"borderRadius",themeKey:"shape"})),f=i(u({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),u({prop:"display"}),u({prop:"overflow"}),u({prop:"textOverflow"}),u({prop:"visibility"}),u({prop:"whiteSpace"})),j=i(u({prop:"flexBasis"}),u({prop:"flexDirection"}),u({prop:"flexWrap"}),u({prop:"justifyContent"}),u({prop:"alignItems"}),u({prop:"alignContent"}),u({prop:"order"}),u({prop:"flex"}),u({prop:"flexGrow"}),u({prop:"flexShrink"}),u({prop:"alignSelf"}),u({prop:"justifyItems"}),u({prop:"justifySelf"})),m=i(u({prop:"gridGap"}),u({prop:"gridColumnGap"}),u({prop:"gridRowGap"}),u({prop:"gridColumn"}),u({prop:"gridRow"}),u({prop:"gridAutoFlow"}),u({prop:"gridAutoColumns"}),u({prop:"gridAutoRows"}),u({prop:"gridTemplateColumns"}),u({prop:"gridTemplateRows"}),u({prop:"gridTemplateAreas"}),u({prop:"gridArea"})),h=i(u({prop:"position"}),u({prop:"zIndex",themeKey:"zIndex"}),u({prop:"top"}),u({prop:"right"}),u({prop:"bottom"}),u({prop:"left"})),O=i(u({prop:"color",themeKey:"palette"}),u({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),x=u({prop:"boxShadow",themeKey:"shadows"});function y(e){return e<=1?"".concat(100*e,"%"):e}var g=u({prop:"width",transform:y}),v=u({prop:"maxWidth",transform:y}),w=u({prop:"minWidth",transform:y}),C=u({prop:"height",transform:y}),k=u({prop:"maxHeight",transform:y}),S=u({prop:"minHeight",transform:y}),N=(u({prop:"size",cssProperty:"width",transform:y}),u({prop:"size",cssProperty:"height",transform:y}),i(g,v,w,C,k,S,u({prop:"boxSizing"}))),P=t(118),R=i(u({prop:"fontFamily",themeKey:"typography"}),u({prop:"fontSize",themeKey:"typography"}),u({prop:"fontStyle",themeKey:"typography"}),u({prop:"fontWeight",themeKey:"typography"}),u({prop:"letterSpacing"}),u({prop:"lineHeight"}),u({prop:"textAlign"})),T=t(7),B=t(0),K=t.n(B),A=t(35),z=t(27),I=t.n(z),D=t(101);function W(e,r){var t={};return Object.keys(e).forEach((function(n){-1===r.indexOf(n)&&(t[n]=e[n])})),t}var E=t(28),F=function(e){var r=function(e){return function(r){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.name,c=Object(T.a)(n,["name"]),i=o,s="function"===typeof r?function(e){return{root:function(t){return r(Object(a.a)({theme:e},t))}}}:{root:r},p=Object(D.a)(s,Object(a.a)({Component:e,name:o||e.displayName,classNamePrefix:i},c));r.filterProps&&(t=r.filterProps,delete r.filterProps),r.propTypes&&(r.propTypes,delete r.propTypes);var l=K.a.forwardRef((function(r,n){var o=r.children,c=r.className,i=r.clone,s=r.component,l=Object(T.a)(r,["children","className","clone","component"]),u=p(r),b=Object(A.a)(u.root,c),d=l;if(t&&(d=W(d,t)),i)return K.a.cloneElement(o,Object(a.a)({className:Object(A.a)(o.props.className,b)},d));if("function"===typeof o)return o(Object(a.a)({className:b},d));var f=s||e;return K.a.createElement(f,Object(a.a)({ref:n,className:b},d),o)}));return I()(l,e),l}}(e);return function(e,t){return r(e,Object(a.a)({defaultTheme:E.a},t))}},L=c(i(d,f,j,m,h,O,x,N,P.b,R)),M=F("div")(L,{name:"MuiBox"});r.a=M},223:function(e,r,t){"use strict";var n=t(1),a=t(7),o=t(0),c=(t(16),t(35)),i=t(45),s=t(44),p=t(173),l=t(124),u=t(349),b=o.forwardRef((function(e,r){var t=e.classes,s=e.className,b=e.color,d=void 0===b?"primary":b,f=e.component,j=void 0===f?"a":f,m=e.onBlur,h=e.onFocus,O=e.TypographyClasses,x=e.underline,y=void 0===x?"hover":x,g=e.variant,v=void 0===g?"inherit":g,w=Object(a.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),C=Object(p.a)(),k=C.isFocusVisible,S=C.onBlurVisible,N=C.ref,P=o.useState(!1),R=P[0],T=P[1],B=Object(l.a)(r,N);return o.createElement(u.a,Object(n.a)({className:Object(c.a)(t.root,t["underline".concat(Object(i.a)(y))],s,R&&t.focusVisible,"button"===j&&t.button),classes:O,color:d,component:j,onBlur:function(e){R&&(S(),T(!1)),m&&m(e)},onFocus:function(e){k(e)&&T(!0),h&&h(e)},ref:B,variant:v},w))}));r.a=Object(s.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(b)},261:function(e,r,t){"use strict";var n=t(1),a=t(7),o=t(0),c=(t(16),t(35)),i=t(44),s=t(175),p=o.forwardRef((function(e,r){var t=e.classes,i=e.className,p=Object(a.a)(e,["classes","className"]),l=o.useContext(s.a);return o.createElement("div",Object(n.a)({className:Object(c.a)(t.root,i,"flex-start"===l.alignItems&&t.alignItemsFlexStart),ref:r},p))}));r.a=Object(i.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(p)},307:function(e,r,t){"use strict";var n=t(119),a=t(120);Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=a(t(0)),c=(0,n(t(121)).default)(o.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");r.default=c},356:function(e,r,t){"use strict";t.r(r),t.d(r,"default",(function(){return K}));var n=t(3),a=t(5),o=(t(142),t(0)),c=t.n(o),i=t(4),s=t(378),p=t(305),l=t(371),u=t(223),b=t(209),d=t(349),f=t(113),j=t(304),m=t(345),h=t(346),O=t(348),x=t(261),y=t(132),g=t.n(y),v=t(307),w=t.n(v),C=t(8),k=t.n(C),S=t(9),N=(t(168),t(169)),P=t(126),R=(t(125),t(2));P.a.configure();var T=Object(f.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},main:{height:"100vh"}}}));function B(){return Object(R.jsxs)(d.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(R.jsx)(u.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}function K(e){var r=T(),t=Object(i.b)(),u=localStorage.getItem("token"),d=k.a.create({baseURL:S.a,headers:{Authorization:"bearer ".concat(u)}}),f=Object(i.c)((function(e){return e.recentReducer.exist})),y=Object(i.c)((function(e){return e.recentReducer.chats})),v=(Object(i.c)((function(e){return e.userReducer.email})),Object(i.c)((function(e){return e.userReducer.name})),Object(o.useState)(y)),C=Object(a.a)(v,2),K=C[0],A=C[1],z=c.a.useState(""),I=Object(a.a)(z,2);I[0],I[1];Object(o.useEffect)((function(){f||d.get("getChat").then((function(e){var r=e.data;1==r.status&&t({type:"load_recent",payload:r.chats}),A(r.chats)})).catch((function(r){P.a.error(r),e.history.push("/signin")}))}),[]);return Object(R.jsxs)("div",{class:r.main,children:[Object(R.jsx)("div",{style:{position:"fixed",width:"100%"},children:Object(R.jsx)(N.a,Object(n.a)({},e))}),Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),Object(R.jsxs)(j.a,{component:"main",maxWidth:"xs",children:[Object(R.jsx)(p.a,{}),Object(R.jsxs)("div",{children:[Object(R.jsx)(l.a,{style:{backgroundColor:"white",borderRadius:"10px"},variant:"outlined",margin:"normal",fullWidth:!0,name:"search",label:"Search Chat",type:"text",onChange:function(e){e.preventDefault();var r=y.filter((function(r){return r.roomName.includes(e.target.value)||r.room.includes(e.target.value)}));0==r.length?A(y):A(r)},autoComplete:"current-password"}),Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),Object(R.jsx)(m.a,{children:K.map((function(r,t){return Object(R.jsxs)(h.a,{button:!0,onClick:function(){return e.history.push(r.link)},children:[Object(R.jsx)(x.a,{children:Object(R.jsx)(s.a,{children:r.room===r.roomName?Object(R.jsx)(g.a,{color:"primary"}):Object(R.jsx)(w.a,{color:"primary"})})}),Object(R.jsx)(O.a,{primary:r.roomName})]},r.roomName)}))})]}),Object(R.jsx)(b.a,{mt:8,className:r.footer,children:Object(R.jsx)(B,{})})]})]})}}}]);
//# sourceMappingURL=13.8b96a364.chunk.js.map
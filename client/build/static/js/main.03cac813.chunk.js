(this["webpackJsonpreact-project"]=this["webpackJsonpreact-project"]||[]).push([[0],{224:function(e,t,a){},225:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),c=a.n(r),i=a(11),o=a.n(i),s=a(19),l=a(8),j=a(13),u=a.n(j),d="";var b=a(14);function m(e){var t=e.redirect;return Object(n.jsx)(b.a,{to:"/"+t})}var h=a(97),p=a.n(h),O=a(297),x=a(287),g=a(289),f=a(294),v=a(281),y=a(295),w=a(52),S=a(270),C=a(288),k=a(273),I=a(274),N=a(275),W=a(277),R=a(292),D=a(291),E=a(282),A=a(286),F=a(284),P=a(285),T=a(283),L=(a(217),a(290)),B=a(280),U=a(86),q=a.n(U),z=a(137),G=a.n(z),M=a(138),Y=a.n(M),H=a(98),V=a.n(H),J=a(51),K=a.n(J),Q=p()(),X=a(62),Z=a(132),$=a.n(Z),_=a(136),ee=a.n(_),te=a(279),ae=a(298),ne=a(296),re=a(16),ce=a(276),ie=a(278),oe=a(133),se=a.n(oe),le=a(134),je=a.n(le),ue=a(135),de=a.n(ue),be=240,me=Object(S.a)((function(e){return{root:{display:"flex"},drawer:Object(X.a)({},e.breakpoints.up("sm"),{width:be,flexShrink:0}),appBar:Object(X.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(be,"px)"),marginLeft:be}),menuButton:Object(X.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:be},content:{flexGrow:1,padding:e.spacing(3)}}}));function he(e){var t=e.window,a=void 0!==t?function(){return t().document.body}:void 0,i=me(),o=Object(re.a)(),s=c.a.useState(!1),j=Object(l.a)(s,2),b=j[0],m=j[1],h=function(){m(!b)},p=Object(r.useState)([]),O=Object(l.a)(p,2),x=(O[0],O[1]),g=localStorage.getItem("token"),f=localStorage.getItem("name"),v=[["Home","/",$.a],["Enter group","/enterroom",se.a],["Create group","/newroom",q.a],["Sign out","/signin",je.a]],y=u.a.create({baseURL:d,headers:{Authorization:"bearer ".concat(g)}});Object(r.useEffect)((function(){y.get("getRooms").then((function(e){var t=e.data;x(t.latest)})).catch((function(t){e.history.push("/signin")}))}),[]);var S=Object(n.jsxs)("div",{children:[Object(n.jsx)("center",{children:Object(n.jsx)(de.a,{style:{color:"blue",width:"70px",height:"70px"}})}),Object(n.jsx)("center",{children:Object(n.jsx)("p",{children:f})}),Object(n.jsx)("div",{className:i.toolbar,style:{marginTop:"-60px"}}),Object(n.jsx)(k.a,{}),Object(n.jsx)(I.a,{children:v.map((function(t,a){return Object(n.jsxs)(N.a,{button:!0,onClick:function(){var a;"Sign out"===t[0]?(a=e.history.push,localStorage.removeItem("token"),a("/signin")):e.history.push(t[1])},children:[Object(n.jsx)(ce.a,{children:Object(r.createElement)(t[2],{})}),Object(n.jsx)(W.a,{primary:t[0]})]},t[0])}))})]});return Object(n.jsxs)("div",{style:{marginBottom:"5px"},children:[Object(n.jsx)(ie.a,{position:"static",className:i.appBar,children:Object(n.jsxs)(te.a,{children:[Object(n.jsx)(B.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:h,className:i.menuButton,children:Object(n.jsx)(ee.a,{})}),Object(n.jsx)(w.a,{variant:"h6",noWrap:!0,children:e.name})]})}),Object(n.jsxs)("nav",{className:i.drawer,"aria-label":"mailbox folders",children:[Object(n.jsx)(ne.a,{smUp:!0,implementation:"css",children:Object(n.jsx)(ae.a,{container:a,variant:"temporary",anchor:"rtl"===o.direction?"right":"left",open:b,onClose:h,classes:{paper:i.drawerPaper},ModalProps:{keepMounted:!0},children:S})}),Object(n.jsx)(ne.a,{xsDown:!0,implementation:"css",children:Object(n.jsx)(ae.a,{classes:{paper:i.drawerPaper},variant:"permanent",open:!0,children:S})})]})]})}var pe=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Oe(){return Object(n.jsxs)(w.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(v.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var xe=a(101),ge=a.n(xe),fe=a(139),ve=a(142),ye=a(144),we=a(140),Se=a(141),Ce=a.n(Se),ke=(a(224),void 0),Ie=Object(S.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},heading:{textAlign:"justifyContent"},footer:{float:"right"},messageBox:{display:"flex",flexWrap:"wrap"},main:{backgroundColor:"beige",paddingTop:"70px"},container:{width:"300px",margin:"auto",minHeight:"70vh",padding:"2px",backgroundColor:"beige",borderRadius:"10px",border:"2px solid pink"},msgs:{width:"250px",marginBottom:"10px"},sendbox:{width:"300px"}}),Ne=function(e){var t=localStorage.getItem("email"),a=localStorage.getItem("name"),c=new Audio("../incoming.mp3"),i=Ie(),o=Object(r.useState)([]),j=Object(l.a)(o,2),b=j[0],m=j[1],h=Object(r.useState)(e.match.params.room),p=Object(l.a)(h,2),O=p[0],x=(p[1],Object(r.useState)("")),g=Object(l.a)(x,2),f=g[0],v=g[1],y=Object(r.useState)(!1),w=Object(l.a)(y,2),S=w[0],C=w[1];Object(r.useEffect)((function(){return S||(C(!0),Q.emit("create",O),Q.emit("new-user-joined",a,O),function(e){var t=localStorage.getItem("token");u.a.create({baseURL:d,headers:{Authorization:"bearer ".concat(t)}}).post("getMessages",{room:e}).then((function(e){var t=e.data;1==t.status&&m(t.msgs)})).catch((function(e){}))}(O)),Q.on("user-joined",(function(e){})),Q.on("user-left",(function(e){})),Q.on("receive",(function(e){m((function(t){return[].concat(Object(ve.a)(t),[e])})),t!=e.email&&c.play()})),function(){Q.disconnect()}}),[]);function k(){return(k=Object(fe.a)(ge.a.mark((function e(){var n,r,c,i,o,s,l;return ge.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(new Date).getHours(),r=(new Date).getMinutes(),n=0==parseInt(n/10)?"0"+n:n,r=0==parseInt(r/10)?"0"+r:r,c=n+":"+r,i=document.getElementById("file-input").files[0]){e.next=8;break}return e.abrupt("return");case 8:if(o=2,(i.name.toLowerCase().includes(".jpg")||i.name.toLowerCase().includes(".png"))&&(o=1),1!=o){e.next=15;break}s={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0},Object(we.a)(i,s).then((function(e){Q.emit("send",{flag:o,email:t,room:O,name:a,path:i.name,img:e,time:c})})).catch((function(e){alert(e.message),console.log(e.message)})),e.next=20;break;case 15:return(l=new FileReader).readAsDataURL(i),e.next=19,function(){var e=l.result.replace(/^data:.+;base64,/,"");Q.emit("send",{flag:o,email:t,room:O,name:a,path:i.name,img:e,time:c})};case 19:l.onloadend=e.sent;case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I={backgroundColor:"blue",color:"white",marginLeft:"auto"};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{style:{position:"fixed",width:"100%"},children:Object(n.jsx)(he,Object(s.a)({name:O},e))}),Object(n.jsxs)("div",{class:i.main,children:[Object(n.jsx)("div",{class:i.container,children:Object(n.jsx)("div",{id:"messages",class:i.messageBox,children:b.map((function(e){var a=t===e.email?I:{};return Object(n.jsx)(ye.a,{elevation:3,className:i.msgs,style:a,children:0==e.flag?Object(n.jsxs)("div",{style:{padding:"10px"},children:[Object(n.jsx)("b",{children:e.name}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("span",{children:e.message}),Object(n.jsx)("span",{style:{float:"right"},children:e.time})]}):1==e.flag?Object(n.jsxs)("div",{style:{padding:"10px"},children:[Object(n.jsx)("b",{children:e.name}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("span",{children:Object(n.jsx)("img",{src:"/uploads/"+e.path,height:"100%",width:"100%"})}),Object(n.jsx)("span",{style:{float:"right"},children:e.time})]}):Object(n.jsxs)("div",{style:{padding:"10px"},children:[Object(n.jsx)("b",{children:e.name}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)("video",{width:"100%",height:"100%",controls:!0,children:[Object(n.jsx)("source",{src:"/uploads/"+e.path,type:"video/mp4"}),Object(n.jsx)("source",{src:"/uploads/"+e.path,type:"video/ogg"})]}),Object(n.jsx)("span",{style:{float:"right"},children:e.time})]})})}))})}),Object(n.jsxs)("center",{children:[Object(n.jsxs)("div",{class:i.sendbox,children:[Object(n.jsx)("input",{type:"text",placeholder:"Type your message here",value:f,onChange:function(e){return v(e.target.value)}}),Object(n.jsx)("button",{className:"btn btn-primary",onClick:function(e,a,n){var r=(new Date).getHours(),c=(new Date).getMinutes(),i=(r=0==parseInt(r/10)?"0"+r:r)+":"+(c=0==parseInt(c/10)?"0"+c:c);Q.emit("send",{flag:0,email:t,room:a,name:e,msg:n,time:i}),v("")}.bind(ke,a,O,f),children:"Send"})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{class:i.sendbox,children:[Object(n.jsx)("label",{for:"file-input",children:Object(n.jsx)(Ce.a,{style:{color:"blue",width:"80px",cursor:"pointer"}})}),Object(n.jsx)("input",{id:"file-input",type:"file",style:{display:"none"}}),Object(n.jsx)("button",{className:"btn btn-sm btn-danger",onClick:function(){return k.apply(this,arguments)}.bind(ke),children:"Send"})]})]})]})]})},We=a(21),Re=a(293),De=a(60),Ee=a.n(De);function Ae(){return Object(n.jsxs)(w.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(We.b,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Fe=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},tabLink:{display:"flex",alignItems:"center",justifyContent:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Pe(){return Object(n.jsxs)(w.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(We.b,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var Te=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Le=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var Be,Ue,qe=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));o.a.render(Object(n.jsx)(We.a,{children:Object(n.jsxs)(b.d,{children:[Object(n.jsx)(b.b,{exact:!0,path:"/",component:(Be=function(e){var t=this,a=pe(),i=Object(r.useState)([]),o=Object(l.a)(i,2),j=o[0],b=o[1],m=Object(r.useState)([]),h=Object(l.a)(m,2),p=h[0],v=h[1],w=c.a.useState(!1),S=Object(l.a)(w,2),U=S[0],z=S[1],M=c.a.useState(!1),H=Object(l.a)(M,2),J=H[0],Q=H[1],X=c.a.useState(null),Z=Object(l.a)(X,2),$=Z[0],_=Z[1],ee=c.a.useState(""),te=Object(l.a)(ee,2),ae=te[0],ne=te[1],re=function(){_(null),z(!1)},ce=function(){_(null),Q(!1)},ie=localStorage.getItem("token"),oe=u.a.create({baseURL:d,headers:{Authorization:"bearer ".concat(ie)}});Object(r.useEffect)((function(){oe.get("getRooms").then((function(e){var t=e.data;b(t.rooms),v(t.latest)})).catch((function(t){alert(t),e.history.push("/signin")}))}),[]);var se=function(t){oe.post("exitRoom",{room:t}).then((function(e){1==e.data.status?v(p.filter((function(e){return e!=t}))):alert("Something went wrong")})).catch((function(t){alert(t),e.history.push("/signin")}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(he,Object(s.a)({name:"Home"},e)),Object(n.jsxs)(E.a,{open:U,onClose:re,"aria-labelledby":"form-dialog-title",children:[Object(n.jsxs)(T.a,{id:"form-dialog-title",children:["Edit password for group ",$]}),Object(n.jsxs)(F.a,{children:[Object(n.jsx)(P.a,{children:"Enter new password below"}),Object(n.jsx)(f.a,{autoFocus:!0,margin:"dense",id:"name",label:"Password",value:ae,onChange:function(e){return ne(e.target.value)},type:"password",fullWidth:!0})]}),Object(n.jsxs)(A.a,{children:[Object(n.jsx)(x.a,{onClick:re,color:"primary",children:"Cancel"}),Object(n.jsx)(x.a,{onClick:function(){var t;t=$,oe.post("editRoom",{room:t,newPassword:ae}).then((function(e){1==e.data.status?alert("Password updated successfully for room ".concat(t)):alert("Something went wrong")})).catch((function(t){alert(t),e.history.push("/signin")})),re()},color:"primary",children:"Confirm"})]})]}),Object(n.jsxs)(E.a,{open:J,onClose:ce,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(T.a,{id:"alert-dialog-title",children:"Delete group"}),Object(n.jsx)(F.a,{children:Object(n.jsxs)(P.a,{id:"alert-dialog-description",children:["Are you sure want to delete group ",$]})}),Object(n.jsxs)(A.a,{children:[Object(n.jsx)(x.a,{onClick:ce,color:"primary",children:"No"}),Object(n.jsx)(x.a,{onClick:function(){var t;t=$,oe.post("deleteRoom",{room:t}).then((function(e){1==e.data.status?(v(p.filter((function(e){return e!=t}))),b(j.filter((function(e){return e!=t})))):alert("Something went wrong")})).catch((function(t){alert(t),e.history.push("/signin")})),ce()},color:"primary",autoFocus:!0,children:"Yes"})]})]}),Object(n.jsxs)(C.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(g.a,{}),Object(n.jsx)(L.a,{color:"primary",style:{height:"50px",width:"50px",float:"right"},"aria-label":"New Room",onClick:function(){return e.history.push("/newroom")},children:Object(n.jsx)(q.a,{})}),Object(n.jsx)(k.a,{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h6",{children:"My Groups"}),Object(n.jsx)(k.a,{}),Object(n.jsx)(I.a,{children:j.sort((function(e,t){return e<t?-1:1})).map((function(t,a){return Object(n.jsxs)(N.a,{button:!0,onClick:function(){return e.history.push("/chat/".concat(t))},children:[Object(n.jsx)(D.a,{children:Object(n.jsx)(O.a,{children:Object(n.jsx)(K.a,{color:"primary"})})}),Object(n.jsx)(W.a,{primary:t}),Object(n.jsxs)(R.a,{children:[Object(n.jsx)(B.a,{edge:"end","aria-label":"delete",children:Object(n.jsx)(G.a,{color:"primary",onClick:function(){_(t),z(!0)}})}),Object(n.jsx)(B.a,{edge:"end","aria-label":"delete",children:Object(n.jsx)(Y.a,{color:"secondary",onClick:function(){_(t),Q(!0)}})})]})]},t)}))}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("h6",{children:"All Groups"}),Object(n.jsx)(k.a,{}),Object(n.jsx)(I.a,{children:p.sort((function(e,t){return e<t?-1:1})).map((function(a,r){return Object(n.jsxs)(N.a,{button:!0,onClick:function(){return e.history.push("/chat/".concat(a))},children:[Object(n.jsx)(D.a,{children:Object(n.jsx)(O.a,{children:Object(n.jsx)(K.a,{color:"primary"})})}),Object(n.jsx)(W.a,{primary:a}),Object(n.jsx)(R.a,{children:Object(n.jsx)(B.a,{edge:"end","aria-label":"delete",onClick:se.bind(t,a),children:Object(n.jsx)(V.a,{color:"secondary"})})})]},a)}))})]}),Object(n.jsx)(y.a,{mt:8,className:a.footer,children:Object(n.jsx)(Oe,{})})]})]})},Ue=m,function(e){var t=Object(r.useState)(0),a=Object(l.a)(t,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){var e=localStorage.getItem("token");u.a.create({baseURL:d,headers:{Authorization:"bearer ".concat(e)}}).get("getRooms").then((function(e){e.data,i(1)})).catch((function(e){i(2)}))})),0==c?null:1==c?Object(n.jsx)(Be,Object(s.a)({},e)):Object(n.jsx)(Ue,{redirect:"signin"})})}),Object(n.jsx)(b.b,{path:"/signin",component:function(e){var t=Fe(),a=(localStorage.getItem("token"),Object(r.useState)("")),c=Object(l.a)(a,2),i=c[0],o=c[1],s=Object(r.useState)(""),j=Object(l.a)(s,2),d=j[0],b=j[1];return Object(n.jsxs)(C.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(g.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(O.a,{className:t.avatar,children:Object(n.jsx)(Ee.a,{})}),Object(n.jsx)(w.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:i,onChange:function(e){return o(e.target.value)},autoFocus:!0}),Object(n.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:d,onChange:function(e){return b(e.target.value)},autoComplete:"current-password"}),Object(n.jsx)(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(t){t.preventDefault();var a={email:i,pass:d};u.a.post("/localSignin",a).then((function(t){var a=t.data,n=null,r=null,c=null;alert(a.msg),1==a.status&&(n=a.email,r=a.name,c=a.token,localStorage.setItem("name",r),localStorage.setItem("email",n),localStorage.setItem("token",c),e.history.push("/"))})).catch((function(e){return console.log(e)}))},className:t.submit,children:"Sign In"}),Object(n.jsxs)(Re.a,{container:!0,children:[Object(n.jsx)(Re.a,{item:!0,xs:!0,children:Object(n.jsx)(We.b,{href:"#",children:"Forgot password?"})}),Object(n.jsx)(Re.a,{item:!0,children:Object(n.jsx)(We.b,{to:"/signup",variant:"body2",children:"Don't have an account?"})})]})]})]}),Object(n.jsx)(y.a,{mt:8,children:Object(n.jsx)(Ae,{})})]})}}),Object(n.jsx)(b.b,{path:"/signup",component:function(e){var t=Te(),a=(localStorage.getItem("token"),Object(r.useState)("")),c=Object(l.a)(a,2),i=c[0],o=c[1],s=Object(r.useState)(""),j=Object(l.a)(s,2),d=j[0],b=j[1],m=Object(r.useState)(""),h=Object(l.a)(m,2),p=h[0],v=h[1],S=Object(r.useState)(""),k=Object(l.a)(S,2),I=k[0],N=k[1],W=Object(r.useState)(""),R=Object(l.a)(W,2),D=R[0],E=R[1];return Object(n.jsxs)(C.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(g.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(O.a,{className:t.avatar,children:Object(n.jsx)(Ee.a,{})}),Object(n.jsx)(w.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Name",name:"name",value:i,onChange:function(e){return o(e.target.value)},autoFocus:!0}),Object(n.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:d,onChange:function(e){return b(e.target.value)},autoFocus:!0}),Object(n.jsx)(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:t.submit,onClick:function(e){e.preventDefault();var t={email:d};u.a.post("/emailverify",t).then((function(e){var t=e.data,a=null;1==t.status&&(a=t.otp),alert(t.msg),localStorage.setItem("otp",a)})).catch((function(e){return console.log(e)}))},children:"Send OTP"}),Object(n.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"otp",label:"Enter OTP",name:"otp",value:D,onChange:function(e){return E(e.target.value)},autoFocus:!0}),Object(n.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:p,onChange:function(e){return v(e.target.value)},autoComplete:"current-password"}),Object(n.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:I,onChange:function(e){return N(e.target.value)},autoComplete:"current-password"}),Object(n.jsx)(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(t){t.preventDefault();var a=localStorage.getItem("otp");if(alert(a),D==a){I!=p&&alert("Password and Confirm password don't match");var n={name:i,email:d,pass:p};u.a.post("/localSignup",n).then((function(t){var a=t.data,n=null,r=null,c=null;alert(a.msg),1==a.status&&(n=a.email,r=a.name,c=a.token,localStorage.setItem("name",r),localStorage.setItem("email",n),localStorage.setItem("token",c),localStorage.removeItem("otp"),e.history.push("/"))})).catch((function(e){return console.log(e)}))}else alert("Incorrect OTP")},className:t.submit,children:"Sign Up"}),Object(n.jsxs)(Re.a,{container:!0,children:[Object(n.jsx)(Re.a,{item:!0,xs:!0,children:Object(n.jsx)(We.b,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(n.jsx)(Re.a,{item:!0,children:Object(n.jsx)(We.b,{to:"/signin",variant:"body2",children:"Already have an account?"})})]})]})]}),Object(n.jsx)(y.a,{mt:8,children:Object(n.jsx)(Pe,{})})]})}}),Object(n.jsx)(b.b,{path:"/enterroom",component:function(e,t){return function(a){var c=Object(r.useState)(0),i=Object(l.a)(c,2),o=i[0],j=i[1];return Object(r.useEffect)((function(){var e=localStorage.getItem("token");u.a.create({baseURL:d,headers:{Authorization:"bearer ".concat(e)}}).get("getRooms").then((function(e){e.data;j(1)})).catch((function(e){j(2)}))})),0==o?null:1==o?Object(n.jsx)(e,Object(s.a)({},a)):Object(n.jsx)(t,{redirect:"signin"})}}((function(e){var t=qe(),a=Object(r.useState)(""),c=Object(l.a)(a,2),i=c[0],o=c[1],j=Object(r.useState)(""),b=Object(l.a)(j,2),m=b[0],h=b[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(he,Object(s.a)({name:"Enter Group"},e)),Object(n.jsxs)(C.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(g.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(O.a,{className:t.avatar,children:Object(n.jsx)(K.a,{})}),Object(n.jsx)(w.a,{component:"h1",variant:"h5",children:"Enter Group"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsxs)(Re.a,{container:!0,spacing:2,children:[Object(n.jsx)(Re.a,{item:!0,xs:12,children:Object(n.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Group Name",name:"email",autoComplete:"email",value:i,onChange:function(e){return o(e.target.value)}})}),Object(n.jsx)(Re.a,{item:!0,xs:12,children:Object(n.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:m,onChange:function(e){return h(e.target.value)},autoComplete:"current-password"})})]}),Object(n.jsx)(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(t){t.preventDefault();var a=localStorage.getItem("token"),n=u.a.create({baseURL:d,headers:{Authorization:"bearer ".concat(a)}}),r={name:i,pass:m};n.post("enterroom",r).then((function(t){var a=t.data;1==a.status?e.history.push("/chat/".concat(i)):alert(a.msg)})).catch((function(t){alert(t),e.history.push("/signin")}))},children:"Enter"}),Object(n.jsx)(Re.a,{container:!0,children:Object(n.jsx)(Re.a,{item:!0,xs:!0,children:Object(n.jsx)(We.b,{to:"/newroom",variant:"body2",children:"Create New Group"})})})]})]})]})]})}),m)}),Object(n.jsx)(b.b,{path:"/newroom",component:function(e,t){return function(a){var c=Object(r.useState)(0),i=Object(l.a)(c,2),o=i[0],j=i[1];return Object(r.useEffect)((function(){var e=localStorage.getItem("token");u.a.create({baseURL:d,headers:{Authorization:"bearer ".concat(e)}}).get("getRooms").then((function(e){e.data;j(1)})).catch((function(e){j(2)}))})),0==o?null:1==o?Object(n.jsx)(e,Object(s.a)({},a)):Object(n.jsx)(t,{redirect:"signin"})}}((function(e){var t=Le(),a=Object(r.useState)(""),c=Object(l.a)(a,2),i=c[0],o=c[1],j=Object(r.useState)(""),b=Object(l.a)(j,2),m=b[0],h=b[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(he,Object(s.a)({name:"Create Group"},e)),Object(n.jsxs)(C.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(g.a,{}),Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(O.a,{className:t.avatar,children:Object(n.jsx)(K.a,{})}),Object(n.jsx)(w.a,{component:"h1",variant:"h5",children:"Create Group"}),Object(n.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(n.jsxs)(Re.a,{container:!0,spacing:2,children:[Object(n.jsx)(Re.a,{item:!0,xs:12,children:Object(n.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Group Name",name:"email",value:i,onChange:function(e){return o(e.target.value)},autoComplete:"email"})}),Object(n.jsx)(Re.a,{item:!0,xs:12,children:Object(n.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:m,onChange:function(e){return h(e.target.value)},autoComplete:"current-password"})})]}),Object(n.jsx)(x.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:function(t){t.preventDefault();var a=localStorage.getItem("token"),n=u.a.create({baseURL:d,headers:{Authorization:"bearer ".concat(a)}}),r={name:i,pass:m};n.post("newroom",r).then((function(t){var a=t.data;alert(a.msg),1==a.status&&e.history.push("/")})).catch((function(t){alert(t),e.history.push("/signin")}))},children:"Create"}),Object(n.jsx)(Re.a,{container:!0,children:Object(n.jsx)(Re.a,{item:!0,xs:!0,children:Object(n.jsx)(We.b,{to:"/enterroom",variant:"body2",children:"Enter Already Existing Group"})})})]})]})]})]})}),m)}),Object(n.jsx)(b.b,{path:"/chat/:room",component:function(e,t){return function(a){var c=Object(r.useState)(0),i=Object(l.a)(c,2),o=i[0],j=i[1],b=Object(r.useState)("signin"),m=Object(l.a)(b,2),h=m[0],p=m[1],O=a.match.params.room;return Object(r.useEffect)((function(){var e=localStorage.getItem("token");u.a.create({baseURL:d,headers:{Authorization:"bearer ".concat(e)}}).get("getRooms").then((function(e){e.data.latest.includes(O)?j(1):(p("enterroom"),j(2))})).catch((function(e){j(2)}))})),0==o?null:1==o?Object(n.jsx)(e,Object(s.a)({},a)):Object(n.jsx)(t,{redirect:h})}}(Ne,m)})]})}),document.getElementById("root"))}},[[225,1,2]]]);
//# sourceMappingURL=main.03cac813.chunk.js.map
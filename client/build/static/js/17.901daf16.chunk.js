(this["webpackJsonpreact-project"]=this["webpackJsonpreact-project"]||[]).push([[17],{193:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));n(0);var a=n(113),i=n(293),r=n(294),c=n(353),o=n(295),s=n(142),l=n.n(s),d=n(378),u=n(8),b=n(2),p=Object(a.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function m(e){var t=p(),n=localStorage.getItem("token");return Object(b.jsx)("div",{className:t.root,children:Object(b.jsx)(i.a,{position:"static",children:Object(b.jsxs)(r.a,{children:[Object(b.jsx)(o.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",children:Object(b.jsx)(l.a,{onClick:function(){return e.history.goBack()}})}),e.dp?Object(b.jsx)(o.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",children:Object(b.jsx)(d.a,{src:u.a+"/uploads/".concat(e.dp,"/").concat(n),style:{backgroundColor:"lightgrey"}})}):null,Object(b.jsx)(c.a,{variant:"h6",className:t.title,children:e.name})]})})})}},198:function(e,t,n){"use strict";var a=n(156);n.n(a)()()},260:function(e,t,n){"use strict";var a=n(1),i=n(7),r=n(19),c=n(0),o=(n(17),n(35)),s=n(44),l=n(45),d=c.forwardRef((function(e,t){var n=e.classes,r=e.className,s=e.component,d=void 0===s?"div":s,u=e.disableGutters,b=void 0!==u&&u,p=e.fixed,m=void 0!==p&&p,j=e.maxWidth,h=void 0===j?"lg":j,g=Object(i.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return c.createElement(d,Object(a.a)({className:Object(o.a)(n.root,r,m&&n.fixed,b&&n.disableGutters,!1!==h&&n["maxWidth".concat(Object(l.a)(String(h)))]),ref:t},g))}));t.a=Object(s.a)((function(e){return{root:Object(r.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,n){var a=e.breakpoints.values[n];return 0!==a&&(t[e.breakpoints.up(n)]={maxWidth:a}),t}),{}),maxWidthXs:Object(r.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(r.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(r.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(r.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(r.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(d)},261:function(e,t,n){"use strict";var a=n(1),i=n(0),r=(n(17),n(44)),c={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},o=function(e){return Object(a.a)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};t.a=Object(r.a)((function(e){return{"@global":{html:c,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:Object(a.a)({margin:0},o(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(e){var t=e.children,n=void 0===t?null:t;return e.classes,i.createElement(i.Fragment,null,n)}))},298:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return N})),n.d(t,"connect",(function(){return B}));var a=n(3),i=n(5),r=(n(156),n(0)),c=n.n(r),o=n(4),s=n(378),l=n(358),d=n(261),u=n(266),b=n(237),p=n(353),m=n(113),j=n(260),h=n(354),g=n(306),f=n(164),x=n.n(f),O=n(115),y=(n(270),n(9)),v=n.n(y),k=n(8),w=(n(198),n(193)),C=n(134),W=(n(133),n(2));C.a.configure();var R=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function S(){return Object(W.jsxs)(p.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(W.jsx)(u.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var B=function(e,t,n,a){e.post("setFriend",{option:a,profile:n}).then((function(e){1==e.data.status&&t({type:"set_friend",payload:{option:a,profile:n}})})).catch((function(e){alert(e)}))};function N(e){var t=R(),n=Object(o.b)(),u=Object(r.useState)("Not connected"),p=Object(i.a)(u,2),m=p[0],f=p[1],y=Object(r.useState)("Connect"),N=Object(i.a)(y,2),E=N[0],F=N[1],I=c.a.useState(!1),D=Object(i.a)(I,2),L=D[0],G=D[1],M=localStorage.getItem("token"),T=Object(o.c)((function(e){return e.profileReducer})),z=(T.name,T.email),P=T.path;T.email||e.history.push("/");var U=v.a.create({baseURL:k.a,headers:{Authorization:"bearer ".concat(M)}}),_=Object(o.c)((function(e){return e.friendReducer.exist})),A=Object(o.c)((function(e){return e.userReducer.email})),q=Object(o.c)((function(e){return e.userReducer.name})),J=(Object(o.c)((function(e){return e.userReducer.path})),Object(o.c)((function(e){return e.friendReducer.friends}))),X=Object(o.c)((function(e){return e.friendReducer.pendings})),Y=Object(o.c)((function(e){return e.friendReducer.sent})),H=function(){G(!1)};return Object(r.useEffect)((function(){(null===J||void 0===J?void 0:J.find((function(e){return e.email==z})))?(f("Connected"),F("Disconnect")):(null===X||void 0===X?void 0:X.find((function(e){return e.email==z})))?(f("Pending"),F("Accept")):(null===Y||void 0===Y?void 0:Y.find((function(e){return e.email==z})))?(f("Request sent"),F("Cancel request")):(f("Not Connected"),F("Connect")),_||U.get("getFriend").then((function(e){var t=e.data;1==t.status&&(n({type:"load_friend",payload:{pendings:t.pendings,friends:t.friends,sent:t.sent,exist:!0}}),n({type:"load_user",payload:{name:t.name,email:t.email,path:t.path,exist:!0}}))})).catch((function(t){alert(t),e.history.push("/signin")}))}),[Y,J,X]),Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(w.a,Object(a.a)({name:"Profile"},e)),Object(W.jsx)("center",{children:Object(W.jsx)(O.a,{id:"loader",style:{marginTop:"100px",display:"none"}})}),Object(W.jsx)(h.a,{open:L,onClose:H,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:A===z?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(g.a,{children:"Change Profile Picure"}),Object(W.jsx)("label",{for:"file-input",children:Object(W.jsx)(x.a,{style:{color:"blue",width:"80px",cursor:"pointer"}})}),Object(W.jsx)("input",{id:"file-input",name:"file",type:"file",style:{display:"none"},onChange:function(e){document.getElementById("preview").setAttribute("src",window.URL.createObjectURL(e.target.files[0]))}}),Object(W.jsx)("center",{children:Object(W.jsx)("img",{id:"preview",src:k.a+"/uploads/".concat(P,"/").concat(M),width:"300px",height:"300px"})}),Object(W.jsx)(l.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){var e=document.getElementById("file-input").files[0];if(document.getElementById("file-input").value){H(),document.getElementById("file-input").value="",document.getElementById("loader").style.display="block";var t=new FormData;t.append("file",e),t.append("path",e.name),U.post("updateDp",t).then((function(t){var a=t.data;1==a.status?(e&&(e.value=""),document.getElementById("loader").style.display="none",n({type:"load_user",payload:{name:q,email:A,path:e.name}}),localStorage.setItem("token",a.token)):C.a.error("Something went wrong",{autoClose:1e3})})).catch((function(e){return C.a.error("Something went wrong",{autoClose:1e3})}))}},children:"Upload"})]}):Object(W.jsx)("center",{children:Object(W.jsx)("img",{id:"preview",src:k.a+"/uploads/".concat(P,"/").concat(M),width:"300px",height:"300px"})})}),Object(W.jsxs)(j.a,{component:"main",maxWidth:"xs",children:[Object(W.jsx)(d.a,{}),Object(W.jsx)("center",{children:Object(W.jsx)(s.a,{src:k.a+"/uploads/".concat(P,"/").concat(M),style:{borderColor:"#00008B",color:"lightgrey",width:"70px",height:"70px"},onClick:function(){G(!0)}})}),Object(W.jsx)("center",{children:Object(W.jsx)("p",{children:T.name})}),A!=z?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)("center",{children:Object(W.jsx)("p",{children:m})}),Object(W.jsx)("button",{class:"btn btn-sm btn-primary",onClick:B.bind(this,U,n,T,E),children:E}),"Pending"==m?Object(W.jsx)("button",{class:"btn btn-sm btn-danger",onClick:B.bind(this,U,n,T,"Disconnect"),children:"Decline"}):null]}):null,Object(W.jsx)(b.a,{mt:8,className:t.footer,children:Object(W.jsx)(S,{})})]})]})}},306:function(e,t,n){"use strict";var a=n(1),i=n(7),r=n(0),c=(n(17),n(35)),o=n(44),s=n(353),l=r.forwardRef((function(e,t){var n=e.children,o=e.classes,l=e.className,d=e.disableTypography,u=void 0!==d&&d,b=Object(i.a)(e,["children","classes","className","disableTypography"]);return r.createElement("div",Object(a.a)({className:Object(c.a)(o.root,l),ref:t},b),u?n:r.createElement(s.a,{component:"h2",variant:"h6"},n))}));t.a=Object(o.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(l)}}]);
//# sourceMappingURL=17.901daf16.chunk.js.map
{"version":3,"sources":["../node_modules/@material-ui/icons/AttachFile.js","components/signup.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","Copyright","variant","color","align","href","Date","getFullYear","toast","configure","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","boxShadow","padding","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","Signup","props","classes","localStorage","getItem","useState","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","otp","setOtp","receivedOtp","setReceivedOtp","loader","setLoader","dispatch","useDispatch","component","maxWidth","elevation","className","style","position","top","noValidate","required","fullWidth","id","label","onChange","evt","target","autoFocus","autoComplete","type","onClick","event","preventDefault","data","axios","post","url","then","response","body","status","info","msg","autoClose","error","catch","err","console","log","for","cursor","document","getElementById","setAttribute","window","URL","createObjectURL","files","height","length","file","FormData","append","token","success","payload","path","setItem","history","push","container","item","xs","to","mt"],"mappings":"uHAEA,IAAIA,EAAyBC,EAAQ,KAEjCC,EAA0BD,EAAQ,KAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,MAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,iQACD,cAEJN,EAAQE,QAAUE,G,wSCMlB,SAASG,IACP,OACE,eAAC,IAAD,CAAYC,QAAQ,QAAQC,MAAM,gBAAgBC,MAAM,SAAxD,UACG,kBACD,cAAC,IAAD,CAAMD,MAAM,UAAUE,KAAK,2BAA3B,0BAEQ,KACP,IAAIC,MAAOC,cACX,OAVPC,IAAMC,YAeN,IAAMC,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,CACLC,UAAWF,EAAMG,QAAQ,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZC,UAAU,uBACVC,QAAQ,QAEVC,OAAQ,CACNC,OAAQV,EAAMG,QAAQ,GACtBQ,gBAAiBX,EAAMY,QAAQC,UAAUC,MAE3CC,KAAM,CACJC,MAAO,OACPd,UAAWF,EAAMG,QAAQ,IAE3Bc,OAAQ,CACNP,OAAQV,EAAMG,QAAQ,EAAG,EAAG,QAIjB,SAASe,EAAOC,GAC7B,IAAMC,EAAUtB,IADoB,GAExBuB,aAAaC,QAAQ,SAEZC,mBAAS,KAJM,mBAI7BC,EAJ6B,KAIxBC,EAJwB,OAKbF,mBAAS,IALI,mBAK7BG,EAL6B,KAKvBC,EALuB,OAMPJ,mBAAS,IANF,mBAM7BK,EAN6B,KAMpBC,EANoB,OAOON,mBAAS,IAPhB,mBAO7BO,EAP6B,KAObC,EAPa,OAQjBR,mBAAS,IARQ,mBAQ7BS,EAR6B,KAQzBC,EARyB,OASDV,mBAAS,IATR,mBAS7BW,EAT6B,KASjBC,EATiB,OAUXZ,mBAAS,QAVE,mBAU7Ba,EAV6B,KAUtBC,EAVsB,KAW9BC,EAASC,cAqEf,OACE,eAAC,IAAD,CAAWC,UAAU,OAAOC,SAAS,KAArC,UACE,cAAC,IAAD,IACA,eAAC,IAAD,CAAQC,UAAW,EAAGC,UAAWvB,EAAQnB,MAAzC,UACA,cAAC,IAAD,CAAkB2C,MAAO,CAACC,SAAS,QAAQC,IAAI,OAAO1C,QAAQgC,KAE5D,cAAC,IAAD,CAAQO,UAAWvB,EAAQX,OAA3B,SACE,cAAC,IAAD,MAEF,cAAC,IAAD,CAAY+B,UAAU,KAAKlD,QAAQ,KAAnC,qBAGA,uBAAMqD,UAAWvB,EAAQL,KAAMgC,YAAU,EAAzC,UACE,cAAC,IAAD,CACEzD,QAAQ,WACRoB,OAAO,SACPsC,UAAQ,EACRC,WAAS,EACTC,GAAG,QACHC,MAAM,OACN3B,KAAK,OACLzC,MAAOyC,EACP4B,SAAU,SAACC,GAAD,OAAO5B,EAAQ4B,EAAIC,OAAOvE,QACpCwE,WAAS,IAEX,cAAC,IAAD,CACEjE,QAAQ,WACRoB,OAAO,SACPsC,UAAQ,EACRC,WAAS,EACTC,GAAG,QACHC,MAAM,gBACN3B,KAAK,QACLgC,aAAa,QACbzE,MAAO2C,EACP0B,SAAU,SAACC,GAAD,OAAO1B,EAAS0B,EAAIC,OAAOvE,QACrCwE,WAAS,IAGX,cAAC,IAAD,CACEE,KAAK,SACLR,WAAS,EACT3D,QAAQ,YACRC,MAAM,YACNoD,UAAWvB,EAAQH,OACnByC,QAnEI,SAACC,GACXA,EAAMC,iBACN,IAAIC,EAAK,CAACnC,SAERoC,IAAMC,KAAKC,IAAI,eAAeH,GAC7BI,MAAK,SAACC,GACL7B,EAAU,QAER,IAAM8B,EAAKD,EAASL,KAGJ,GAAbM,EAAKC,QAAWxE,IAAMyE,KAAKF,EAAKG,IAAI,CAACC,UAAU,MAAOpC,EAAegC,EAAKnC,MACxEpC,IAAM4E,MAAML,EAAKG,IAAI,CAACC,UAAU,SAIvCE,OAAM,SAAAC,GAASrC,EAAU,QAASsC,QAAQC,IAAIF,OA6C9C,sBAUA,cAAC,IAAD,CACEpF,QAAQ,WACRoB,OAAO,SACPsC,UAAQ,EACRC,WAAS,EACTC,GAAG,MACHC,MAAM,YACN3B,KAAK,MACLzC,MAAOiD,EACPoB,SAAU,SAACC,GAAD,OAAOpB,EAAOoB,EAAIC,OAAOvE,QACnCwE,WAAS,IAGX,cAAC,IAAD,CACEjE,QAAQ,WACRoB,OAAO,SACPsC,UAAQ,EACRC,WAAS,EACTzB,KAAK,WACL2B,MAAM,WACNM,KAAK,WACLP,GAAG,WACHnE,MAAO6C,EACPwB,SAAU,SAACC,GAAD,OAAOxB,EAAYwB,EAAIC,OAAOvE,QACxCyE,aAAa,qBAEf,cAAC,IAAD,CACElE,QAAQ,WACRoB,OAAO,SACPsC,UAAQ,EACRC,WAAS,EACTzB,KAAK,WACL2B,MAAM,mBACNM,KAAK,WACLP,GAAG,WACHnE,MAAO+C,EACPsB,SAAU,SAACC,GAAD,OAAOtB,EAAmBsB,EAAIC,OAAOvE,QAC/CyE,aAAa,qBA1EjB,YA6EE,uBAAOqB,IAAI,aAAX,SACC,cAAC,IAAD,CAAgBjC,MAAO,CAACrD,MAAM,OAAOyB,MAAM,OAAO8D,OAAO,eAE1D,uBAAO5B,GAAG,aAAa1B,KAAK,OAAOiC,KAAK,OAAOb,MAAO,CAACxC,QAAQ,QAASgD,SAAU,SAACC,GAClF0B,SAASC,eAAe,WAAWC,aAAa,MAAOC,OAAOC,IAAIC,gBAAgB/B,EAAIC,OAAO+B,MAAM,QAEnG,qBAAKnC,GAAG,UAAUlC,MAAM,OAAOsE,OAAO,SACvC,cAAC,IAAD,CACE7B,KAAK,SACLR,WAAS,EACT3D,QAAQ,YACRC,MAAM,UACNmE,QAvKM,SAACC,GAKb,GAJAtB,EAAU,SAEZsB,EAAMC,iBAED5B,GAAKE,EAGR,GAAGN,EAAS2D,OAAO,EAAG3F,IAAM4E,MAAM,qCAAqC,CAACD,UAAU,WAElF,GAAGzC,GAAiBF,EAApB,CAEA,IAAM4D,EAAKT,SAASC,eAAe,cAAcK,MAAM,GAE7CxB,EAAK,IAAI4B,SACb5B,EAAK6B,OAAO,OAAOlE,GACnBqC,EAAK6B,OAAO,QAAQhE,GACpBmC,EAAK6B,OAAO,OAAO9D,GACnBiC,EAAK6B,OAAO,OAAZ,OAAmBF,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAMhE,MACzBqC,EAAK6B,OAAO,OAAOF,GAE3B1B,IAAMC,KAAKC,IAAI,eAAeH,GAC3BI,MAAK,SAACC,GACL7B,EAAU,QAEV,IAAM8B,EAAKD,EAASL,KAChBnC,EAAM,KAAKF,EAAK,KAAKmE,EAAM,KAEf,GAAbxB,EAAKC,SACNxE,IAAMgG,QAAQ,yBAAyB,CAACrB,UAAU,MAClD7C,EAAMyC,EAAKzC,MAAMF,EAAK2C,EAAK3C,KAAKmE,EAAMxB,EAAKwB,MAE3CrD,EAAS,CAACmB,KAAK,YAAYoC,QAAQ,CAACrE,OAAKE,QAAMoE,KAAI,OAACN,QAAD,IAACA,OAAD,EAACA,EAAMhE,QAE1DH,aAAa0E,QAAQ,QAAQJ,GAE7BxE,EAAM6E,QAAQC,KAAK,SAGtBxB,OAAM,SAAAC,GAAUrC,EAAU,QAAQsC,QAAQC,IAAIF,WA7BjB9E,IAAM4E,MAAM,4CAA4C,CAACD,UAAU,WAJ/F3E,IAAM4E,MAAM,gBAAgB,CAACD,UAAU,OAkKnC5B,UAAWvB,EAAQH,OANrB,qBAUA,eAAC,IAAD,CAAMiF,WAAS,EAAf,UACE,cAAC,IAAD,CAAMC,MAAI,EAACC,IAAE,EAAb,SACE,cAAC,IAAD,CAAMC,GAAG,kBAAkB/G,QAAQ,QAAnC,gCAIF,cAAC,IAAD,CAAM6G,MAAI,EAAV,SACE,cAAC,IAAD,CAAME,GAAG,UAAU/G,QAAQ,QAA3B,iDAOR,cAAC,IAAD,CAAKgH,GAAI,EAAT,SACE,cAACjH,EAAD","file":"static/js/21.b7cbbbe1.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z\"\n}), 'AttachFile');\n\nexports.default = _default;","import React,{useState} from 'react';\r\nimport {useDispatch} from 'react-redux';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport {Link} from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport Container from '@material-ui/core/Container';\r\nimport axios from 'axios';\r\nimport url from '../url';\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\ntoast.configure()\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright Â© '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    boxShadow:'0px 0px 3px 3px blue',\r\n    padding:'30px'\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Signup(props) {\r\n  const classes = useStyles();\r\n  const token=localStorage.getItem('token')\r\n\r\n  const [name,setName]=useState('')\r\n  const [email,setEmail]=useState('')\r\n  const [password,setPassword]=useState('')\r\n  const [confirmPassword,setConfirmPassword]=useState('')\r\n  const [otp,setOtp]=useState('')\r\n  const [receivedOtp,setReceivedOtp]=useState('')\r\n  const [loader,setLoader]=useState('none')\r\n  const dispatch=useDispatch()\r\n\r\n\r\n  \tconst register=(event)=>{\r\n      setLoader('block')\r\n\r\n  \t\tevent.preventDefault();\r\n\r\n      if(otp!=receivedOtp){\r\n        toast.error('Incorrect OTP',{autoClose:1000}); return;\r\n      }\r\n      if(password.length<6){toast.error(\"Password length must be at least 6\",{autoClose:2000}); return; }\r\n\r\n      if(confirmPassword!=password){toast.error(\"Password and Confirm password don't match\",{autoClose:2000}); return;}\r\n\r\n      const file=document.getElementById('file-input').files[0]\r\n\r\n            let data=new FormData()\r\n            data.append('name',name)\r\n            data.append('email',email)\r\n            data.append('pass',password)\r\n            data.append('path',file?.name)\r\n            data.append('file',file)\r\n\r\n  \t\taxios.post(url+'/localSignup',data)\r\n      .then((response)=>{\r\n        setLoader('none')\r\n\r\n        const body=response.data\r\n        let email=null,name=null,token=null;\r\n      //  alert(body.msg);\r\n        if(body.status==1){\r\n          toast.success('Signed up successfully',{autoClose:1000})\r\n          email=body.email;name=body.name;token=body.token;\r\n\r\n          dispatch({type:'load_user',payload:{name,email,path:file?.name}})\r\n\r\n          localStorage.setItem('token',token);\r\n\r\n          props.history.push('/');\r\n        }\r\n  \t\t})\r\n      .catch(err=>{    setLoader('none');console.log(err); });\r\n   }\r\n\r\n\r\n\r\n  \tconst verify=(event)=>{\r\n    \t\tevent.preventDefault();\r\n    \t\tlet data={email};\r\n        //alert(secureAxios)\r\n        axios.post(url+'/emailverify',data)\r\n        .then((response)=>{\r\n          setLoader('none')\r\n\r\n            const body=response.data\r\n            let receivedOtp=null;\r\n\r\n            if(body.status==1){toast.info(body.msg,{autoClose:1000});setReceivedOtp(body.otp);}\r\n            else toast.error(body.msg,{autoClose:1000});\r\n\r\n             //localStorage.setItem('otp',receivedOtp);\r\n    \t\t })\r\n         .catch(err=>{   setLoader('none'); console.log(err); });\r\n    }\r\n\r\n\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <Paper  elevation={3} className={classes.paper}>\r\n      <CircularProgress style={{position:'fixed',top:'70px',display:loader}}/>\r\n\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Name\"\r\n            name=\"name\"\r\n            value={name}\r\n            onChange={(evt)=>setName(evt.target.value)}\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            value={email}\r\n            onChange={(evt)=>setEmail(evt.target.value)}\r\n            autoFocus\r\n          />\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.submit}\r\n            onClick={verify}\r\n          >\r\n            Send OTP\r\n          </Button>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"otp\"\r\n            label=\"Enter OTP\"\r\n            name=\"otp\"\r\n            value={otp}\r\n            onChange={(evt)=>setOtp(evt.target.value)}\r\n            autoFocus\r\n          />\r\n\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={(evt)=>setPassword(evt.target.value)}\r\n            autoComplete=\"current-password\"\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Confirm password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={confirmPassword}\r\n            onChange={(evt)=>setConfirmPassword(evt.target.value)}\r\n            autoComplete=\"current-password\"\r\n          />\r\n          Add photo\r\n          <label for=\"file-input\">\r\n           <AttachFileIcon style={{color:'blue',width:'80px',cursor:'pointer'}}/>\r\n          </label>\r\n          <input id=\"file-input\" name='file' type=\"file\" style={{display:'none'}} onChange={(evt)=>{\r\n           document.getElementById('preview').setAttribute('src', window.URL.createObjectURL(evt.target.files[0]))\r\n           }}/>\r\n           <img id='preview' width='100%' height='100%'/>\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={register}\r\n            className={classes.submit}\r\n          >\r\n            Sign Up\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link to='/changePassword' variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/signin\" variant=\"body2\">\r\n                Already have an account?\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </Paper>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n"],"sourceRoot":""}
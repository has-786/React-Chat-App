(this["webpackJsonpreact-project"]=this["webpackJsonpreact-project"]||[]).push([[25],{363:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return k}));var n=t(5),r=t(0),o=t(4),i=t(380),l=t(359),s=t(317),c=t(375),u=t(46),d=t(214),m=t(190),p=t(138),j=t.n(p),b=t(146),h=t.n(b),f=t(354),g=t(113),O=t(316),v=t(9),x=t.n(v),w=t(8),y=t(129),C=(t(128),t(2));function S(){return Object(C.jsxs)(f.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(C.jsx)(u.b,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}y.a.configure();var W=Object(g.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function k(e){var a=W(),t=(localStorage.getItem("token"),Object(r.useState)("")),p=Object(n.a)(t,2),b=p[0],g=p[1],v=Object(r.useState)(""),k=Object(n.a)(v,2),P=k[0],F=k[1],I=Object(r.useState)(""),N=Object(n.a)(I,2),q=N[0],D=N[1],T=Object(r.useState)(""),A=Object(n.a)(T,2),E=A[0],U=A[1],B=Object(r.useState)(""),J=Object(n.a)(B,2),L=J[0],R=J[1],Y=Object(r.useState)(""),V=Object(n.a)(Y,2),_=V[0],z=V[1],G=Object(o.b)();return Object(C.jsxs)(O.a,{component:"main",maxWidth:"xs",children:[Object(C.jsx)(s.a,{}),Object(C.jsxs)("div",{className:a.paper,children:[Object(C.jsx)(i.a,{className:a.avatar,children:Object(C.jsx)(j.a,{})}),Object(C.jsx)(f.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(C.jsxs)("form",{className:a.form,noValidate:!0,children:[Object(C.jsx)(c.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Name",name:"name",value:b,onChange:function(e){return g(e.target.value)},autoFocus:!0}),Object(C.jsx)(c.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:P,onChange:function(e){return F(e.target.value)},autoFocus:!0}),Object(C.jsx)(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:a.submit,onClick:function(e){e.preventDefault();var a={email:P};x.a.post(w.a+"/emailverify",a).then((function(e){var a=e.data;1==a.status?(y.a.info(a.msg,{autoClose:1e3}),z(a.otp)):y.a.error(a.msg,{autoClose:1e3})})).catch((function(e){return console.log(e)}))},children:"Send OTP"}),Object(C.jsx)(c.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"otp",label:"Enter OTP",name:"otp",value:L,onChange:function(e){return R(e.target.value)},autoFocus:!0}),Object(C.jsx)(c.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:q,onChange:function(e){return D(e.target.value)},autoComplete:"current-password"}),Object(C.jsx)(c.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Confirm password",type:"password",id:"password",value:E,onChange:function(e){return U(e.target.value)},autoComplete:"current-password"}),"Add photo",Object(C.jsx)("label",{for:"file-input",children:Object(C.jsx)(h.a,{style:{color:"blue",width:"80px",cursor:"pointer"}})}),Object(C.jsx)("input",{id:"file-input",name:"file",type:"file",style:{display:"none"},onChange:function(e){document.getElementById("preview").setAttribute("src",window.URL.createObjectURL(e.target.files[0]))}}),Object(C.jsx)("img",{id:"preview",width:"100%",height:"100%"}),Object(C.jsx)(l.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(a){if(a.preventDefault(),L==_)if(q.length<6)y.a.error("Password length must be at least 6",{autoClose:2e3});else if(E==q){var t=document.getElementById("file-input").files[0],n=new FormData;n.append("name",b),n.append("email",P),n.append("pass",q),n.append("path",null===t||void 0===t?void 0:t.name),n.append("file",t),x.a.post(w.a+"/localSignup",n).then((function(a){var n=a.data,r=null,o=null,i=null;1==n.status&&(y.a.success("Signed up successfully",{autoClose:1e3}),r=n.email,o=n.name,i=n.token,G({type:"load_user",payload:{name:o,email:r,path:null===t||void 0===t?void 0:t.name}}),localStorage.setItem("token",i),e.history.push("/"))})).catch((function(e){return console.log(e)}))}else y.a.error("Password and Confirm password don't match",{autoClose:2e3});else y.a.error("Incorrect OTP",{autoClose:1e3})},className:a.submit,children:"Sign Up"}),Object(C.jsxs)(d.a,{container:!0,children:[Object(C.jsx)(d.a,{item:!0,xs:!0,children:Object(C.jsx)(u.b,{to:"/changePassword",variant:"body2",children:"Forgot password?"})}),Object(C.jsx)(d.a,{item:!0,children:Object(C.jsx)(u.b,{to:"/signin",variant:"body2",children:"Already have an account?"})})]})]})]}),Object(C.jsx)(m.a,{mt:8,children:Object(C.jsx)(S,{})})]})}}}]);
//# sourceMappingURL=25.9139971c.chunk.js.map
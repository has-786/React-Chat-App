{"version":3,"sources":["components/signin.js"],"names":["Copyright","variant","color","align","href","Date","getFullYear","toast","configure","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","tabLink","justifyContent","form","width","submit","Signin","props","classes","localStorage","getItem","useState","email","setEmail","password","setPassword","dispatch","useDispatch","component","maxWidth","className","noValidate","required","fullWidth","id","label","name","autoComplete","value","onChange","evt","target","autoFocus","type","onClick","event","preventDefault","data","pass","axios","post","url","then","response","body","token","path","status","success","autoClose","payload","setItem","history","push","error","catch","err","container","item","xs","to","mt"],"mappings":"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","file":"static/js/24.105ee84c.chunk.js","sourcesContent":["import React,{useState} from 'react';\r\nimport {useDispatch} from 'react-redux';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport {Link} from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport axios from 'axios'\r\nimport url from '../url'\r\nimport {toast} from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\ntoast.configure()\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright Â© '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  tabLink : {\r\n    display:\"flex\",\r\n    alignItems:\"center\",\r\n    justifyContent:\"center\"\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Signin(props) {\r\n  const classes = useStyles();\r\n  const token=localStorage.getItem('token')\r\n  const [email,setEmail]=useState('')\r\n  const [password,setPassword]=useState('')\r\n\r\n  const dispatch=useDispatch()\r\n\r\n  const login=(event)=>{\r\n    event.preventDefault();\r\n    const data={email,pass:password};\r\n\r\n    axios.post(url+'/localSignin',data)\r\n    .then((response)=>{\r\n      const body=response.data\r\n      let email=null,name=null,token=null,path=null;\r\n\r\n      if(body.status==1){\r\n\r\n        email=body.email;name=body.name;token=body.token;path=body.path;\r\n        toast.success('Signed in successfully',{autoClose:1000})\r\n        dispatch({type:'load_user',payload:{name,email,path}})\r\n\r\n        localStorage.setItem('token',token);\r\n\r\n        props.history.push('/');\r\n      }\r\n      else toast.error('Something went wrong',{autoClose:1000})\r\n\r\n\r\n    })\r\n    .catch(err=>toast.error('Something went wrong'+err,{autoClose:1000}) );\r\n}\r\n\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            value={email}\r\n            onChange={(evt)=>setEmail(evt.target.value)}\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={(evt)=>setPassword(evt.target.value)}\r\n            autoComplete=\"current-password\"\r\n          />\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={login}\r\n            className={classes.submit}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link to='/changePassword'>\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link to=\"/signup\" variant=\"body2\">\r\n                Don't have an account?\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n"],"sourceRoot":""}